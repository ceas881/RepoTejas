<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>Cat√°logo | Teja UPVC Bogot√°</title>
        <link rel="stylesheet" th:href="@{/css/styles.css}">
        <link rel="icon" th:href="@{/img/logo.png}">

        <meta name="keywords" content="teja UPVC, teja termoac√∫stica, venta teja UPVC Bogot√°, accesorios UPVC">
        <meta name="description" content="Cat√°logo de tejas UPVC termoac√∫sticas y accesorios ‚Äî Distribuidora Bogot√°.">
    </head>

    <body>

        <header th:replace="~{fragments/header :: header}">
            <strong>Distribuidora de Teja UPVC</strong>
        </header>

        <main class="main-container">
            <h1>Cat√°logo de Productos</h1>

            <div class="productos-grid">
                <!-- PRODUCTOS -->
                <div th:each="producto : ${productos}" class="producto-card">
                    <div class="producto-imagen-container">
                        <img th:if="${producto.imagen_url != null and producto.imagen_url != ''}"
                             th:src="${producto.imagen_url}"
                             th:alt="${producto.nombre}"
                             class="producto-imagen"
                             onerror="this.src='/images/default-product.jpg'">
                        <div th:unless="${producto.imagen_url != null and producto.imagen_url != ''}" 
                             class="no-imagen-producto">
                            <span>üè†</span>
                        </div>
                    </div>

                    <div class="producto-info">
                        <h3 th:text="${producto.nombre}">Nombre</h3>
                        <p class="producto-descripcion" th:text="${producto.descripcion}">Descripci√≥n</p>
                        <!--p class="producto-precio">
                            <strong th:text="${'$' + #numbers.formatDecimal(producto.precio, 1, 2, 'COMMA')}">Precio</strong>
                        </p-->

                        <form th:action="@{/carrito/agregar/{id}(id=${producto.id})}" method="post" class="agregar-form">
                            <input type="hidden" name="cantidad" value="1"/>
                            <button type="submit" class="btn-agregar">
                                <span class="icon">üõí</span> Agregar al carrito
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <h2 class="seccion-titulo">Accesorios</h2>

            <div class="productos-grid">
                <!-- ACCESORIOS -->
                <div th:each="accesorio : ${accesorios}" class="producto-card">
                    <div class="producto-imagen-container">
                        <img th:if="${accesorio.imagen_url != null and accesorio.imagen_url != ''}"
                             th:src="${accesorio.imagen_url}"
                             th:alt="${accesorio.nombre}"
                             class="producto-imagen"
                             onerror="this.src='/images/default-accesorio.jpg'">
                        <div th:unless="${accesorio.imagen_url != null and accesorio.imagen_url != ''}" 
                             class="no-imagen-producto">
                            <span>üîß</span>
                        </div>
                    </div>

                    <div class="producto-info">
                        <h3 th:text="${accesorio.nombre}">Accesorio</h3>
                        <p class="producto-color" th:if="${accesorio.color != null}">
                            <strong>Color:</strong> <span th:text="${accesorio.color}"></span>
                        </p>
                        <p class="producto-descripcion" th:text="${accesorio.descripcion}">Descripci√≥n</p>
                        <!--p class="producto-precio">
                            <strong th:text="${'$' + #numbers.formatDecimal(accesorio.precio, 1, 2, 'COMMA')}">Precio</strong>
                        </p-->

                        <form th:action="@{/carrito/agregar/accesorio/{id}(id=${accesorio.id})}" method="post" class="agregar-form">
                            <input type="hidden" name="cantidad" value="1"/>
                            <button type="submit" class="btn-agregar">
                                <span class="icon">üõí</span> Agregar accesorio
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </main>

        <a class="wa-btn"
           href="https://wa.me/573213537875?text=Hola%20quiero%20cotizar%20tejas%20UPVC"
           target="_blank"
           rel="noopener">
            <img th:src="@{/img/nino.png}" alt="WhatsApp">
        </a>

        <footer th:replace="~{fragments/footer :: footer}"></footer>

    </body>
</html>